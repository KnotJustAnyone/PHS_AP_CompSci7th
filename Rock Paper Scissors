import random

user_score = 0
computer_score = 0
while True:
  x = int(input("Would you like to play a best of 3 or a best of 5? Please enter 3 or 5 accordingly: "))
  while True:
    if x == 3 or x == 5:
      break
    else: 
      print (x)
      x = int(input("Invalid answer. Please enter 3 or 5: "))
  
  for i in range(x):
  
    options = ["rock", "paper", "scissors"]
  
    user_choice = input("Choose rock, paper, or scissors: ").lower()
    computer_choice = random.choice(options)
  
    print(f"You chose: {user_choice}")
    print(f"Computer chose: {computer_choice}")
  
    if user_choice == computer_choice:
        print("\nIt's a tie!")
        print("Your score is", user_score)
        print("The computer's score is", computer_score)
    elif (
        (user_choice == "rock" and computer_choice == "scissors") or
        (user_choice == "paper" and computer_choice == "rock") or
        (user_choice == "scissors" and computer_choice == "paper")
    ):
        user_score = user_score + 1
        print("\nYou win!")
        print("Your score is", user_score)
        print("The computer's score is", computer_score)
  
    else:
        computer_score = computer_score + 1
        print("\nYou lose!")
        print("Your score is", user_score)
        print("The computer's score is", computer_score)
  
  if x == 3 and user_score > computer_score:
    print("\nCongratulations! You won the best of 3.")
  elif x == 3 and user_score < computer_score:
    print("\nYou lost the best of 3 :(")
  elif x == 5 and user_score > computer_score:
    print("\nCongratulations! You won the best of 5.")
  else:
    print("\nYou lost the best of 5 :(")

  play_again = input("Would you like to play again? Enter yes or no: ").lower()
  
  while play_again != "yes" and play_again != "no":
    play_again = input("Invalid answer. Enter yes or no: ").lower()

  if play_again == "no":
    break


print("\nBye Bye!")
